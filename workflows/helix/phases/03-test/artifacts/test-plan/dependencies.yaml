# Test Plan Dependencies
artifact: test-plan
prefix: TP

inputs:
  required:
    - artifact: technical-design
      phase: "02-design"
      prefix: TD
      same_number: true
      relationship: "tests validate design"
    - artifact: user-stories
      phase: "01-frame"
      prefix: US
      same_number: true
      relationship: "tests verify acceptance criteria"
  optional:
    - artifact: security-requirements
      phase: "01-frame"
      relationship: "informs security tests"

outputs:
  produces:
    - artifact: test-suite
      relationship: "actual test implementation"
    - artifact: implementation-plan
      phase: "04-build"
      prefix: IP
      same_number: true
      relationship: "implementation makes tests pass"

completion:
  automated_checks:
    - type: file_exists
    - type: no_markers
      pattern: "\\[NEEDS CLARIFICATION\\]"
    - type: section_exists
      sections:
        - "Test Strategy"
        - "Test Cases"
        - "Coverage Targets"
  manual_checks:
    - "All acceptance criteria have test cases"
    - "Edge cases covered"
